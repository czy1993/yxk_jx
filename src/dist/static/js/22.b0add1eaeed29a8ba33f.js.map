{"version":3,"sources":["webpack:///src/views/form/retrieve-form.vue","webpack:///./src/views/form/retrieve-form.vue?2adf","webpack:///./src/views/form/retrieve-form.vue"],"names":["retrieve_form","data","phone","code","newPass","newPassII","confirmPassword","butMes","userReg","codeReg","passReg","passIIReg","methods","save_sendVerifyCode","_this","this","$message","error","$refs","user","focus","Object","then","res","$notify","title","message","type","duration","save_forgetPassReset","_this2","id","$md5","oldPass","username","onClose","$router","go","watch","value","emailreg","RegExp","test","form_retrieve_form","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","expression","ref","attrs","required","autocomplete","domProps","on","input","$event","target","composing","_v","class","maxlength","minlength","click","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2IA6CAA,GACAC,KADA,WAEA,OACAC,MAAA,GACAC,KAAA,GACAC,QAAA,GACAC,UAAA,GAEAC,gBAAA,OACAC,OAAA,QACAC,SAAA,EACAC,SAAA,EACAC,SAAA,EACAC,WAAA,IAGAC,SAEAC,oBAFA,WAEA,IAAAC,EAAAC,KACA,IAAAA,KAAAb,OACAa,KAAAC,SAAAC,MAAA,WACAF,KAAAG,MAAAC,KAAAC,SAEQC,OAAAF,EAAA,EAAAE,CAAc,UAAtBN,KAAAb,OAAAoB,KAAA,SAAAC,GACA,KAAAA,EAAApB,OACAW,EAAAU,SACAC,MAAA,SACAC,QAAA,cAAAZ,EAAAZ,MAAA,kBACAyB,KAAA,UACAC,SAAA,IAEAd,EAAAP,OAAA,UAMAsB,qBArBA,WAqBA,IAAAC,EAAAf,KACA,IAAAA,KAAAb,OAAA,IAAAa,KAAAZ,MAAA,IAAAY,KAAAX,QACAW,KAAAC,SAAAC,MAAA,gBACA,GAAAF,KAAAL,SAAA,IAAAK,KAAAX,SACAW,KAAAC,SAAAC,MAAA,sBACAF,KAAAL,SAAA,GAEQW,OAAAF,EAAA,EAAAE,EACRlB,KAAAY,KAAAZ,KACA4B,GAAA,GACA3B,QAAAW,KAAAiB,KAAAjB,KAAAX,SACA6B,QAAA,GACAC,SAAAnB,KAAAb,QACAoB,KAAA,SAAAC,GACA,KAAAA,EAAApB,KACA2B,EAAAd,UACAU,QAAA,eACAC,KAAA,UACAQ,QAAA,WACAL,EAAAM,QAAAC,IAAA,MAKAP,EAAAd,SAAAC,MAAAM,EAAAG,aAMAY,OACApC,MADA,SACAqC,GACA,IACAC,EAAA,IAAAC,OACA,kEAFA,6BAIAC,KAAAH,IAAAC,EAAAE,KAAAH,IAAA,IAAAA,EAGAxB,KAAAP,SAAA,EAFAO,KAAAP,SAAA,GAKAL,KAZA,SAYAoC,GACA,aACAG,KAAAH,IAAA,IAAAA,EAGAxB,KAAAN,SAAA,EAFAM,KAAAN,SAAA,GAKAL,QApBA,SAoBAmC,GACA,2CACAG,KAAAH,IAAA,IAAAA,EAGAxB,KAAAL,SAAA,EAFAK,KAAAL,SAAA,GAKAL,UA5BA,SA4BAkC,GACAA,GAAAxB,KAAAX,SACAW,KAAAT,gBAAA,aACAS,KAAAJ,WAAA,GAEAI,KAAAJ,WAAA,KC9IegC,GADEC,OAFjB,WAA0B,IAAAC,EAAA9B,KAAa+B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,+BAAyCF,EAAA,SAAcG,aAAaC,KAAA,QAAAC,QAAA,UAAAd,MAAAM,EAAA,MAAAS,WAAA,UAAoEC,IAAA,OAAAL,YAAA,eAAAM,OAA+CC,SAAA,WAAAC,aAAA,OAA2CC,UAAWpB,MAAAM,EAAA,OAAoBe,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCnB,EAAA3C,MAAA4D,EAAAC,OAAAxB,WAAgCM,EAAAoB,GAAA,KAAAjB,EAAA,SAA0BkB,OAAA,mBAAArB,EAAArC,QAAA,YAAoDqC,EAAAoB,GAAA,cAAApB,EAAAoB,GAAA,KAAAjB,EAAA,OAA6CE,YAAA,+BAAyCF,EAAA,SAAcG,aAAaC,KAAA,QAAAC,QAAA,UAAAd,MAAAM,EAAA,KAAAS,WAAA,SAAkEJ,YAAA,eAAAM,OAAoC7B,KAAA,WAAA8B,SAAA,WAAAC,aAAA,eAAAS,UAAA,IAAAC,UAAA,KAAsGT,UAAWpB,MAAAM,EAAA,MAAmBe,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCnB,EAAA1C,KAAA2D,EAAAC,OAAAxB,WAA+BM,EAAAoB,GAAA,KAAAjB,EAAA,SAA0BkB,OAAA,kBAAArB,EAAApC,QAAA,YAAmDoC,EAAAoB,GAAA,cAAApB,EAAAoB,GAAA,KAAAjB,EAAA,QAA8CE,YAAA,eAAAU,IAA+BS,MAAA,SAAAP,GAAyB,OAAAjB,EAAAhC,0BAAmCgC,EAAAoB,GAAApB,EAAAyB,GAAAzB,EAAAtC,aAAAsC,EAAAoB,GAAA,KAAAjB,EAAA,OAAuDE,YAAA,+BAAyCF,EAAA,SAAcG,aAAaC,KAAA,QAAAC,QAAA,UAAAd,MAAAM,EAAA,QAAAS,WAAA,YAAwEJ,YAAA,eAAAM,OAAoC7B,KAAA,WAAA8B,SAAA,WAAAC,aAAA,gBAAsEC,UAAWpB,MAAAM,EAAA,SAAsBe,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCnB,EAAAzC,QAAA0D,EAAAC,OAAAxB,WAAkCM,EAAAoB,GAAA,KAAAjB,EAAA,SAA0BkB,OAAA,kBAAArB,EAAAnC,QAAA,YAAmDmC,EAAAoB,GAAA,0BAAApB,EAAAoB,GAAA,KAAAjB,EAAA,OAAyDE,YAAA,+BAAyCF,EAAA,SAAcG,aAAaC,KAAA,QAAAC,QAAA,UAAAd,MAAAM,EAAA,UAAAS,WAAA,cAA4EJ,YAAA,eAAAM,OAAoC7B,KAAA,WAAA8B,SAAA,WAAAC,aAAA,gBAAsEC,UAAWpB,MAAAM,EAAA,WAAwBe,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCnB,EAAAxC,UAAAyD,EAAAC,OAAAxB,WAAoCM,EAAAoB,GAAA,KAAAjB,EAAA,SAA0BkB,OAAA,kBAAArB,EAAAlC,UAAA,YAAoDkC,EAAAoB,GAAApB,EAAAyB,GAAAzB,EAAAvC,sBAAAuC,EAAAoB,GAAA,KAAAjB,EAAA,OAAgEE,YAAA,iBAAAU,IAAiCS,MAAA,SAAAP,GAAyB,OAAAjB,EAAAhB,2BAAoCgB,EAAAoB,GAAA,WAE92EM,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE1E,EACA2C,GATF,EAVA,SAAAgC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/22.b0add1eaeed29a8ba33f.js","sourcesContent":["<template>\r\n  <div class=\"retrieve\">\r\n    <div class=\"form-group login-form-item\">\r\n      <input required=\"required\" class=\"form-control\" ref=\"user\" autocomplete=\"off\" v-model=\"phone\" />\r\n      <label :class=\"['form-label',, userReg===true?'red':'' ]\">手机号/邮箱</label>\r\n    </div>\r\n    <div class=\"form-group login-form-item\">\r\n      <input\r\n        type=\"password\"\r\n        required=\"required\"\r\n        class=\"form-control\"\r\n        autocomplete=\"new-password\"\r\n        v-model=\"code\"\r\n        maxlength=\"6\"\r\n        minlength=\"6\"\r\n      />\r\n\r\n      <label :class=\"['form-label', codeReg===true?'red':'' ]\">请输入6位验证码</label>\r\n      <span class=\"form-getcode\" @click=\"save_sendVerifyCode()\">{{butMes}}</span>\r\n    </div>\r\n    <div class=\"form-group login-form-item\">\r\n      <input\r\n        type=\"password\"\r\n        required=\"required\"\r\n        class=\"form-control\"\r\n        autocomplete=\"new-password\"\r\n        v-model=\"newPass\"\r\n      />\r\n      <label :class=\"['form-label', passReg===true?'red':'' ]\">密码 8-16位 数字或加大小写字母</label>\r\n    </div>\r\n    <div class=\"form-group login-form-item\">\r\n      <input\r\n        type=\"password\"\r\n        required=\"required\"\r\n        class=\"form-control\"\r\n        autocomplete=\"new-password\"\r\n        v-model=\"newPassII\"\r\n      />\r\n      <label :class=\"['form-label',passIIReg===true?'red':'' ]\">{{confirmPassword}}</label>\r\n    </div>\r\n    <div class=\"login-form-btn\" @click=\"save_forgetPassReset()\">提交</div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { sendVerifyCode, forgetPassReset } from '@/api/user.js'\r\nexport default {\r\n  data() {\r\n    return {\r\n      phone: '',\r\n      code: '',\r\n      newPass: '',\r\n      newPassII: '',\r\n\r\n      confirmPassword: '确认密码',\r\n      butMes:\"获取验证码\",\r\n      userReg: false,\r\n      codeReg: false,\r\n      passReg: false,\r\n      passIIReg: false\r\n    }\r\n  },\r\n  methods: {\r\n    //  校验手机号\r\n    save_sendVerifyCode() {\r\n      if (this.phone == '') {\r\n        this.$message.error('请输入手机号码')\r\n        this.$refs.user.focus()\r\n      } else {\r\n        sendVerifyCode(`?phone=${this.phone}`).then(res => {\r\n          if( res.code == 200){\r\n            this.$notify({\r\n              title: '验证码已发送',\r\n              message: '验证码已发送验证码至-'+this.phone+'请注意查收，验证码五分钟内有效',\r\n              type: 'success',\r\n              duration: 0\r\n            });\r\n            this.butMes = '已发送'\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 修改密码\r\n    save_forgetPassReset() {\r\n      if (this.phone == '' || this.code == '' || this.newPass == '') {\r\n        this.$message.error('请填写完整的信息再行操作')\r\n      } else if (this.passReg == true || this.newPass == '') {\r\n        this.$message.error('密码 8-16位 数字或加大小写字母')\r\n        this.passReg = false\r\n      } else {\r\n        forgetPassReset({\r\n          code: this.code,\r\n          id: '',\r\n          newPass: this.$md5(this.newPass),\r\n          oldPass: '',\r\n          username: this.phone\r\n        }).then(res => {\r\n          if (res.code == 200) {\r\n            this.$message({\r\n              message: '密码重置成功,请重新登录',\r\n              type: 'success',\r\n              onClose: () => {\r\n                this.$router.go(-1)\r\n              }\r\n            })\r\n            \r\n          } else {\r\n            this.$message.error(res.message)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    phone(value) {\r\n      const myreg = /^[1][3,4,5,7,8,9][0-9]{9}$/\r\n      const emailreg = new RegExp(\r\n        '^([0-9A-Za-z\\\\-_\\\\.]+)@([0-9a-z]+\\\\.[a-z]{2,3}(\\\\.[a-z]{2})?)$'\r\n      )\r\n      if (!myreg.test(value) && !emailreg.test(value) && value != '') {\r\n        this.userReg = true\r\n      } else {\r\n        this.userReg = false\r\n      }\r\n    },\r\n    code(value) {\r\n      const codereg = /^[0-9]{6}$/\r\n      if (!codereg.test(value) && value != '') {\r\n        this.codeReg = true\r\n      } else {\r\n        this.codeReg = false\r\n      }\r\n    },\r\n    newPass(value) {\r\n      const passreg = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,16}$/\r\n      if (!passreg.test(value) && value != '') {\r\n        this.passReg = true\r\n      } else {\r\n        this.passReg = false\r\n      }\r\n    },\r\n    newPassII(value) {\r\n      if (value != this.newPass) {\r\n        this.confirmPassword = '两次密码输入保持一致'\r\n        this.passIIReg = true\r\n      } else {\r\n        this.passIIReg = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.retrieve {\r\n  font-size: 12px;\r\n  .form-group {\r\n    margin-top: 10px;\r\n    position: relative;\r\n    .form-getcode {\r\n      position: absolute;\r\n      top: 0px;\r\n      right: 0;\r\n      display: block;\r\n      width: 80px;\r\n      height: 24px;\r\n      box-sizing: border-box;\r\n      color: #0006ff;\r\n      cursor: pointer;\r\n      z-index: 3;\r\n      font-size: 13px;\r\n      text-align: center;\r\n      line-height: 20px;\r\n      border: 1px solid #fff;\r\n      border-radius: 3px;\r\n    }\r\n    .form-getcode:hover {\r\n      border: 1px solid #16c899;\r\n      background: #16c899;\r\n      color: #fff;\r\n    }\r\n  }\r\n  .form-label {\r\n    font-weight: 500;\r\n    font-size: 13px;\r\n  }\r\n  .form-control {\r\n    height: 30px;\r\n  }\r\n  .login-form-btn {\r\n    background: #16c899;\r\n    font-size: 13px;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/form/retrieve-form.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"retrieve\"},[_c('div',{staticClass:\"form-group login-form-item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],ref:\"user\",staticClass:\"form-control\",attrs:{\"required\":\"required\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}}),_vm._v(\" \"),_c('label',{class:['form-label',, _vm.userReg===true?'red':'' ]},[_vm._v(\"手机号/邮箱\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group login-form-item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"required\":\"required\",\"autocomplete\":\"new-password\",\"maxlength\":\"6\",\"minlength\":\"6\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),_vm._v(\" \"),_c('label',{class:['form-label', _vm.codeReg===true?'red':'' ]},[_vm._v(\"请输入6位验证码\")]),_vm._v(\" \"),_c('span',{staticClass:\"form-getcode\",on:{\"click\":function($event){return _vm.save_sendVerifyCode()}}},[_vm._v(_vm._s(_vm.butMes))])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group login-form-item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newPass),expression:\"newPass\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"required\":\"required\",\"autocomplete\":\"new-password\"},domProps:{\"value\":(_vm.newPass)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newPass=$event.target.value}}}),_vm._v(\" \"),_c('label',{class:['form-label', _vm.passReg===true?'red':'' ]},[_vm._v(\"密码 8-16位 数字或加大小写字母\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group login-form-item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newPassII),expression:\"newPassII\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"required\":\"required\",\"autocomplete\":\"new-password\"},domProps:{\"value\":(_vm.newPassII)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newPassII=$event.target.value}}}),_vm._v(\" \"),_c('label',{class:['form-label',_vm.passIIReg===true?'red':'' ]},[_vm._v(_vm._s(_vm.confirmPassword))])]),_vm._v(\" \"),_c('div',{staticClass:\"login-form-btn\",on:{\"click\":function($event){return _vm.save_forgetPassReset()}}},[_vm._v(\"提交\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-63fcb874\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/form/retrieve-form.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-63fcb874\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./retrieve-form.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./retrieve-form.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./retrieve-form.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-63fcb874\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./retrieve-form.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-63fcb874\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/form/retrieve-form.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}