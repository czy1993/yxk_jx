webpackJsonp([17],{"2APe":function(t,e){},MZyV:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("4YfN"),a=s.n(n),r=s("YXVF"),u=s("6k77"),o=s("kciL"),i={props:["courseId","studentId"],data:function(){return{status:{1:"未开始",2:"已出勤",3:"缺勤",4:"请假"}}},computed:a()({},Object(o.e)("student",["courseStatusList"])),mounted:function(){this.init()},methods:a()({},Object(o.b)("student",["queryCourseStatus"]),{init:function(){this.queryCourseStatus("courseId="+this.courseId+"&studentId="+this.studentId)}})},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.themeName,attrs:{id:"_detail"}},[s("div",{staticClass:"detail_container"},[t._m(0),t._v(" "),s("div",{staticClass:"table_body"},[t.courseStatusList.length>0?s("ul",t._l(t.courseStatusList,function(e,n){return s("li",{key:n},[s("ul",[s("li",[t._v(t._s(e.currentNum+"课时"))]),t._v(" "),s("li",[t._v(t._s(e.teacherName))]),t._v(" "),s("li",[s("span",{staticClass:"common_class",class:"status_"+e.courseStatus},[t._v(t._s(t.status[e.courseStatus]))])])])])}),0):s("div",{staticClass:"_tip"},[t._v("暂无课程安排")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"table_head"},[e("ul",[e("li",[this._v("课时")]),this._v(" "),e("li",[this._v("授课老师")]),this._v(" "),e("li",[this._v("考勤状态")])])])}]};var l=s("C7Lr")(i,c,!1,function(t){s("2APe")},"data-v-28d267ef",null).exports,d=s("VE1u"),_=s("iFss"),f={data:function(){return{visible:!1,height:"100px",courseStatus:{1:"未上架",2:"报名中",3:"已开课",4:"已学完"},currentPage:1,courseStatusList:[]}},computed:a()({},Object(o.e)("student",["courseDetailList"])),mounted:function(){this.init(),this.query(),window.addEventListener("resize",this.init)},methods:a()({},Object(o.b)("student",["queryStudentCourse"]),{init:function(){var t=this;this.$nextTick(function(){var e=t.$refs.container.getBoundingClientRect().height,s=t.$refs.header.getBoundingClientRect().height,n=t.$refs.footer.getBoundingClientRect().height;t.height=e-s-n+"px"})},initCourseStatus:function(){this.courseStatusList=this.courseDetailList.reduce(function(t,e){return t.push(a()({},e,{show:!1})),t},[])},query:function(){var t=this;this.queryStudentCourse("studentId="+this.$route.query.studentId).then(function(){t.initCourseStatus()})},handleExportExcel:function(){var t=this.formatJson(["courseName","courseStatus","teacherName","courseNum"],this.courseStatusList);Object(_.a)({header:["课程名称","课程状态","授课教师","课时状态"],data:t,filename:"学员详情"})},formatJson:function(t,e){var s=this;return e.map(function(e){return t.map(function(t){return"courseStatus"===t?s.courseStatus[e[t]]:e[t]})})}}),components:{EcButton:r.a,EcTable:u.a,Detail:l,EcPagination:d.a},beforeDestroy:function(){window.removeEventListener("resize",this.init)}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"education_course_detail"}},[s("div",{ref:"container",staticClass:"course_detail_container"},[s("header",{ref:"header"},[s("div",[t._v("\n        学员：\n        "),s("span",{staticClass:"_name"},[t._v(t._s(t.$route.query.name))])]),t._v(" "),s("div",{staticClass:"export"},[s("ec-button",{nativeOn:{click:function(e){return t.handleExportExcel(e)}}},[t._v("导出Excel")])],1)]),t._v(" "),s("div",{staticClass:"_table"},[s("ec-table",{attrs:{height:t.height,tableData:t.courseStatusList}},[s("el-table-column",{attrs:{label:"序号"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(t.courseStatusList.indexOf(e.row)+1))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"courseName",label:"课程名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.courseName))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"courseStatus",label:"课程状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"common_class",class:"status_"+e.row.courseStatus},[t._v(t._s(t.courseStatus[e.row.courseStatus]))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"teacherName",label:"授课教师"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.teacherName))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"courseNum",label:"课时状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.courseNum))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"考勤"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-popover",{attrs:{"popper-class":"detail_pop",placement:"bottom",width:"600",trigger:"click"},model:{value:e.row.show,callback:function(s){t.$set(e.row,"show",s)},expression:"scope.row.show"}},[e.row.show?s("detail",{attrs:{courseId:e.row.courseId,studentId:e.row.studentId}}):t._e(),t._v(" "),s("span",{staticClass:"detail",attrs:{slot:"reference"},slot:"reference"},[t._v("详情")])],1)]}}])})],1)],1),t._v(" "),s("footer",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"footer"},[s("ec-pagination",{attrs:{total:40,currentPage:t.currentPage}})],1)])])},staticRenderFns:[]};var v=s("C7Lr")(f,h,!1,function(t){s("sSnL")},"data-v-1923319c",null);e.default=v.exports},sSnL:function(t,e){}});
//# sourceMappingURL=17.49cf1210c0f00f1286e0.js.map