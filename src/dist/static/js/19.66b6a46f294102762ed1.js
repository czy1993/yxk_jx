webpackJsonp([19],{"iH+A":function(e,t){},tCRL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("4YfN"),a=n.n(i),r=n("YXVF"),s=n("6k77"),o=n("VE1u"),u=n("kciL"),c=n("iFss"),l={data:function(){return{height:"100px",currentPage:1,size:10,total:0,sex:{1:"男",2:"女"}}},computed:a()({},Object(u.e)("course",["studentList"])),mounted:function(){this.init(),this.query(1),window.addEventListener("resize",this.init)},methods:a()({},Object(u.b)("course",["queryStudent"]),{init:function(){var e=this;this.$nextTick(function(){var t=e.$refs.container.getBoundingClientRect().height,n=e.$refs.header.getBoundingClientRect().height,i=e.$refs.footer.getBoundingClientRect().height;e.height=t-n-i+"px"})},query:function(e){var t=this;this.queryStudent("courseId="+this.$route.query.id+"&current="+e+"&size="+this.size).then(function(e){t.total=e.data.total})},changeSize:function(e){this.size=e,this.query(1)},changePage:function(e){this.query(e)},handleExportExcel:function(){var e=this.formatJson(["name","sex","phone"],this.studentList);Object(c.a)({header:["姓名","性别","手机号"],data:e,filename:"学员管理"})},formatJson:function(e,t){var n=this;return t.map(function(t){return e.map(function(e){return"sex"===e?n.sex[t[e]]:t[e]})})}}),components:{EcButton:r.a,EcTable:s.a,EcPagination:o.a},beforeDestroy:function(){window.removeEventListener("resize",this.init)}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"student_message"}},[n("div",{ref:"container",staticClass:"message_container"},[n("header",{ref:"header"},[n("div",[n("ec-button",{nativeOn:{click:function(t){return e.handleExportExcel(t)}}},[e._v("导出Excel")])],1)]),e._v(" "),n("div",{staticClass:"student_table"},[n("ec-table",{attrs:{height:e.height,tableData:e.studentList}},[n("el-table-column",{attrs:{label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.studentList.indexOf(t.row)+1))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"sex",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.sex[t.row.sex]))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"phone",label:"手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.phone))])]}}])})],1)],1),e._v(" "),n("footer",{ref:"footer"},[n("ec-pagination",{attrs:{total:e.total,currentPage:e.currentPage},on:{"current-page":e.changePage,"page-size":e.changeSize}})],1)])])},staticRenderFns:[]};var f=n("C7Lr")(l,d,!1,function(e){n("iH+A")},"data-v-dd3c2144",null);t.default=f.exports}});
//# sourceMappingURL=19.66b6a46f294102762ed1.js.map