webpackJsonp([27],{noML:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("hRKE"),l=s.n(i),a=s("4YfN"),n=s.n(a),c=s("kciL"),v=s("vMJZ"),o=s("JfnM"),r=s("TIfe"),u={data:function(){return{show2:!1,options:[],alllevelList:[],levelDict:"",levelName:"",newlevelName:"",value:"",jurisdiction:[],menus:[],accountInfo:Object(r.a)()}},components:{EcRouterBack:s("zwmd").a},computed:n()({},Object(c.e)(["searchList"])),created:function(){this.save_levelList(),0==this.searchList.length&&this.save_searchLevel()},methods:n()({},Object(c.d)(["Save_searchList","SAVE_about"]),{levelDictChange:function(e){this.jurisdiction=[],""!=this.levelDict&&("new"==this.levelDict?this.show2=!0:(this.show2=!1,this.levelName=this.levelDict.split("-")[1],this.save_levelList()))},save_levelList:function(){var e=this;Object(v.h)("?levelDict="+this.levelDict.split("-")[0]).then(function(t){200==t.code&&(""==e.levelDict?e.alllevelList=t.data:e.jurisdiction=o.a.getId(t.data,[]))})},save_searchLevel:function(){var e=this;Object(v.m)("/"+this.accountInfo.agencyId).then(function(t){200==t.code&&e.Save_searchList(t.data)})},set_levelUpdate:function(){var e=this,t=[];1==this.jurisdiction.length&&this.jurisdiction[0].length>0?t.push(this.jurisdiction[0][this.jurisdiction[0].length-1]):t=o.a.uniq(this.jurisdiction);var s={level:{agencyId:this.accountInfo.agencyId,levelDict:"new"==this.levelDict?"":this.levelDict.split("-")[0],levelName:"new"==this.levelDict?this.newlevelName:this.levelName},menus:t};"new"===this.levelDict?Object(v.g)(s).then(function(t){e.mess(t)}):Object(v.i)(s).then(function(t){e.mess(t)})},mess:function(e){var t=this;200==e.code?this.$message({message:"设置成功",type:"success",onClose:function(){t.levelDict="",t.show2=!1,t.save_searchLevel()}}):this.$message(e.message)},jurisdictionChange:function(e){console.log(e)},arrpeed:function(e){o.a.deepCopy(e)},traverse:function(e){for(var t in e)"object"==l()(e[t])&&this.traverse(e[t])}})},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"system_component",attrs:{id:"jurisdiction"}},[s("div",{staticClass:"system_view"},[s("EcRouterBack",{attrs:{routerName:"system"}}),e._v(" "),s("h4",[e._v("权限设置")]),e._v(" "),s("div",{staticClass:"views"},[s("span",{staticClass:"names"},[e._v("层级")]),e._v(" "),s("el-select",{staticClass:"texts",attrs:{placeholder:""},on:{change:e.levelDictChange},model:{value:e.levelDict,callback:function(t){e.levelDict=t},expression:"levelDict"}},[s("el-option",{key:"",attrs:{label:"请选择",value:""}}),e._v(" "),s("el-option",{key:"new",attrs:{label:"新增层级",value:"new"}}),e._v(" "),e._l(e.searchList,function(e){return s("el-option",{key:e.levelDict,attrs:{label:e.levelName,value:e.levelDict+"-"+e.levelName}})})],2)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.show2,expression:"show2"}],staticClass:"views"},[s("span",{staticClass:"names"},[e._v("层级名称")]),e._v(" "),s("el-input",{staticClass:"texts",attrs:{placeholder:"请输入层级名称"},model:{value:e.newlevelName,callback:function(t){e.newlevelName=t},expression:"newlevelName"}})],1),e._v(" "),s("div",{staticClass:"views"},[s("span",{staticClass:"names"},[e._v("管理权限")]),e._v(" "),s("el-cascader",{staticClass:"texts",attrs:{options:e.alllevelList,props:{multiple:!0,checkStrictly:!0,children:"children",label:"title",value:"id",expandTrigger:"hover"},filterable:"","show-all-levels":!1},on:{change:e.jurisdictionChange},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var i=t.data;return[s("span",[e._v(e._s(i.title))])]}}]),model:{value:e.jurisdiction,callback:function(t){e.jurisdiction=t},expression:"jurisdiction"}})],1),e._v(" "),s("div",{staticClass:"views"}),e._v(" "),s("div",{staticClass:"buts",on:{click:function(t){return e.set_levelUpdate()}}},[e._v("设置完成")])],1)])},staticRenderFns:[]},d=s("C7Lr")(u,h,!1,null,null,null);t.default=d.exports}});
//# sourceMappingURL=27.ac1776136a2a9264141b.js.map